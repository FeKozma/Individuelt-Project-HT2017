// =======
// Plugins
// =======
apply from: "$rootDir/gradle/repositories.gradle"
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: 'application'

mainClassName = "com.API.JavaAPI3.JavaAPIApplication"

// ============
// Dependencies
// ============
dependencies {
    runtime project(':JavaAPI-server')
}

tasks.getByName("distZip") {

}

distributions {
    main {
        contents {
            into ('var') {
                from("$projectDir/src/standard/var") {
                    exclude '**/.gitkeep'
                    exclude '**/*.log'
                    exclude 'data/**/*'
                    includeEmptyDirs true
                }
            }
            into ('web') {
                from("$projectDir/../JavaAPI-app/build/min") {
                    include "**/*"
                }
            }
        }
    }
}

// ======================================
// Configure Eclipse Project Dependencies
// ======================================
eclipse {
    project {
        referencedProjects 'JavaAPI-server'
    }
}
